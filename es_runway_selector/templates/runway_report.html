<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Runway Report</title>
<style>
 :root {
     --bg:#0b0f14;
     --panel:#111824;
     --text:#e7eef8;
     --muted:#9aa7b8;
     --border:#243246;
     --accent:#67b7ff;
     --bad:#ff7a7a;
 }

 * { box-sizing: border-box; }

 body {
     background: var(--bg);
     color: var(--text);
     font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
     margin: 0;
     padding: 14px;
     font-size: 13px;
 }

 h1 {
     margin: 0 0 8px;
     font-size: 16px;
     font-weight: 600;
 }

 .card {
     background: var(--panel);
     border: 1px solid var(--border);
     border-radius: 8px;
     padding: 8px 10px 10px;
     margin-bottom: 10px;
 }

 header {
     display:flex;
     justify-content: space-between;
     align-items: baseline;
     gap: 8px;
     margin-bottom: 6px;
 }

 .none { color: var(--bad); font-weight: 600; }

 .badge {
     font-size: 11px;
     color: var(--muted);
     border: 1px solid var(--border);
     padding: 1px 6px;
     border-radius: 999px;
     white-space: nowrap;
 }

 .table-wrap {
     border: 1px solid var(--border);
     border-radius: 6px;
     overflow: hidden;
     background: rgba(0,0,0,.15);
 }

 table {
     width: 100%;
     border-collapse: collapse;
     table-layout: fixed;
 }

 thead th {
     text-align: left;
     font-size: 11px;
     color: var(--muted);
     padding: 4px 6px;
     border-bottom: 1px solid var(--border);
     background: rgba(0,0,0,.25);
     position: sticky;
     top: 0;
 }

 tbody td {
     padding: 0px 2px;
     border-bottom: 1px dashed rgba(255,255,255,.08);
     vertical-align: top;
 }

 tbody tr:last-child td { border-bottom: none; }

 .icao {
     color: var(--accent);
     font-weight: 600;
     font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
     white-space: nowrap;
 }

 .runways {
     font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
     white-space: normal;
 }

 .metar {
     font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
     white-space: pre-wrap;
     word-break: break-word;
     line-height: 1.1;
     font-size: 12px;
 }

 /* column sizing */
 col.col-icao  { width: 7ch; }
 col.col-rwy   { width: 20ch; }
 col.col-wind  { width: 26ch; }
 col.col-metar { width: auto; }
</style>
</head>
<body>
{% for g in groups %}
<section class="card">
  <header>
    <div class="{{ g.source_class }}">{{ g.source_label }}</div>
    <div class="badge">{{ g.airports.len() }} airports</div>
  </header>

  <div class="table-wrap">
    <table>
      <colgroup>
        <col class="col-icao">
        <col class="col-rwy">
        <col class="col-wind">
        <col class="col-metar">
      </colgroup>
      <thead>
        <tr>
          <th>ICAO</th>
          <th>Runways</th>
          <th>Wind Components</th>
          <th>METAR</th>
        </tr>
      </thead>
      <tbody>
        {% for a in g.airports %}
        <tr>
          <td class="icao">{{ a.icao }}</td>
          <td class="runways">{{ a.runway_text }}</td>
          <td class="runways">{{ a.wind_text }}</td>
          <td class="metar">{{ a.metar }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</section>
{% endfor %}

</body>
</html>
